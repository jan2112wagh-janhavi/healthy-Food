<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthy Food Registration</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/Registration.css">
    <script src="./js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
    <div class="register-container">
      <h3 class="text-center mb-4">Register</h3>
      <form id="registerForm" novalidate>
        <div class="mb-3">
          <label for="regUsername" class="form-label">Username</label>
          <input type="text" class="form-control" id="regUsername" placeholder="Enter username" />
          <div id="usernameError" class="error-message"></div>
        </div>
        <div class="mb-3">
          <label for="regEmail" class="form-label">Email</label>
          <input type="email" class="form-control" id="regEmail" placeholder="Enter email" />
          <div id="emailError" class="error-message"></div>
        </div>
        <div class="mb-3">
          <label for="regPassword" class="form-label">Password</label>
          <input type="password" class="form-control" id="regPassword" placeholder="Enter password" />
          <div id="passwordError" class="error-message"></div>
        </div>
        <div class="mb-3">
          <label for="regConfirmPassword" class="form-label">Confirm Password</label>
          <input type="password" class="form-control" id="regConfirmPassword" placeholder="Confirm password" />
          <div id="confirmPasswordError" class="error-message"></div>
        </div>
        <button type="submit" class="btn btn-success w-100">Register</button>
      </form>
    </div>
  </div>
    

  <script>
    const registerForm = document.getElementById('registerForm');
    const usernameInput = document.getElementById('regUsername');
    const emailInput = document.getElementById('regEmail');
    const passwordInput = document.getElementById('regPassword');
    const confirmPasswordInput = document.getElementById('regConfirmPassword');

    const usernameError = document.getElementById('usernameError');
    const emailError = document.getElementById('emailError');
    const passwordError = document.getElementById('passwordError');
    const confirmPasswordError = document.getElementById('confirmPasswordError');

    registerForm.addEventListener('submit', function(e) {
      e.preventDefault();

      // Reset errors
      usernameError.textContent = '';
      emailError.textContent = '';
      passwordError.textContent = '';
      confirmPasswordError.textContent = '';

      let valid = true;

      // Validate Username
      if (usernameInput.value.trim() === '') {
        usernameError.textContent = 'Username is required';
        valid = false;
      }

      // Validate Email
      if (emailInput.value.trim() === '') {
        emailError.textContent = 'Email is required';
        valid = false;
      } else {
        // Simple email regex check
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(emailInput.value.trim())) {
          emailError.textContent = 'Enter a valid email';
          valid = false;
        }
      }

      // Validate Password
      if (passwordInput.value.trim() === '') {
        passwordError.textContent = 'Password is required';
        valid = false;
      } else if (passwordInput.value.trim().length < 6) {
        passwordError.textContent = 'Password must be at least 6 characters';
        valid = false;
      }

      // Confirm Password
      if (confirmPasswordInput.value.trim() === '') {
        confirmPasswordError.textContent = 'Please confirm your password';
        valid = false;
      } else if (confirmPasswordInput.value !== passwordInput.value) {
        confirmPasswordError.textContent = 'Passwords do not match';
        valid = false;
      }

      if (valid) {
        alert('Registration successful!');
        // Redirect to login page after registration
        window.location.href = 'login.html';
      }
    });
  </script>
</body>
</html>